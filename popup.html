<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ozon Analytics Assistant - Настройки</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            width: 380px;
            padding: 20px;
            background: #fff;
        }

        .header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eee;
        }

        .logo {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #005bff 0%, #0047cc 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo svg {
            width: 28px;
            height: 28px;
        }

        h1 {
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .subtitle {
            font-size: 12px;
            color: #666;
        }

        .section {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 13px;
            font-weight: 500;
            color: #333;
            margin-bottom: 8px;
        }

        input[type="password"],
        input[type="text"] {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }

        input:focus {
            border-color: #005bff;
        }

        .input-wrapper {
            position: relative;
        }

        .toggle-visibility {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            padding: 4px;
        }

        .toggle-visibility:hover {
            color: #333;
        }

        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #005bff;
            color: white;
        }

        .btn-primary:hover {
            background: #0047cc;
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .status {
            margin-top: 12px;
            padding: 12px;
            border-radius: 10px;
            font-size: 13px;
            display: none;
        }

        .status.success {
            display: block;
            background: #e8f5e9;
            color: #2e7d32;
        }

        .status.error {
            display: block;
            background: #ffebee;
            color: #c62828;
        }

        .telegram-block {
            margin-top: 20px;
            padding: 16px;
            background: linear-gradient(135deg, #0088cc15, #0088cc08);
            border-radius: 12px;
            border: 1px solid #0088cc30;
        }

        .telegram-block h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #0088cc;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .telegram-block p {
            font-size: 13px;
            color: #555;
            margin-bottom: 12px;
        }

        .telegram-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #0088cc;
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            font-size: 13px;
            transition: background 0.2s;
        }

        .telegram-link:hover {
            background: #006da8;
        }

        .help {
            margin-top: 20px;
            padding: 16px;
            background: #f5f7fa;
            border-radius: 12px;
        }

        .help h3 {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .help ol {
            font-size: 12px;
            color: #666;
            padding-left: 18px;
        }

        .help li {
            margin-bottom: 6px;
        }

        .footer {
            margin-top: 20px;
            padding-top: 16px;
            border-top: 1px solid #eee;
            text-align: center;
            font-size: 11px;
            color: #999;
        }

        .footer a {
            color: #005bff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <svg viewBox="0 0 24 24" fill="none">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 19H11V17H13V19ZM15.07 11.25L14.17 12.17C13.45 12.9 13 13.5 13 15H11V14.5C11 13.4 11.45 12.4 12.17 11.67L13.41 10.41C13.78 10.05 14 9.55 14 9C14 7.9 13.1 7 12 7C10.9 7 10 7.9 10 9H8C8 6.79 9.79 5 12 5C14.21 5 16 6.79 16 9C16 9.88 15.64 10.68 15.07 11.25Z" fill="white"/>
            </svg>
        </div>
        <div>
            <h1>Ozon Analytics Assistant</h1>
            <div class="subtitle">Настройки расширения</div>
        </div>
    </div>

    <div class="telegram-block">
        <h3>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#0088cc">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .37z"/>
            </svg>
            Подпишитесь на канал
        </h3>
        <p>Для получения API ключа и использования сервиса подпишитесь на наш Telegram-канал</p>
        <a href="https://t.me/first_seller" target="_blank" class="telegram-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .37z"/>
            </svg>
            @first_seller
        </a>
    </div>

    <div class="section" style="margin-top: 20px;">
        <label for="apiKey">API ключ сервиса</label>
        <div class="input-wrapper">
            <input type="password" id="apiKey" placeholder="oaa_..." autocomplete="off">
            <button class="toggle-visibility" type="button" id="toggleVisibility">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                </svg>
            </button>
        </div>
    </div>

    <button class="btn btn-primary" id="saveBtn">Сохранить</button>

    <div class="status" id="status"></div>

    <div class="help">
        <h3>Как получить API ключ:</h3>
        <ol>
            <li>Подпишитесь на канал <a href="https://t.me/first_seller" target="_blank">@first_seller</a></li>
            <li>Зарегистрируйтесь на сайте сервиса</li>
            <li>Получите API ключ в личном кабинете</li>
            <li>Вставьте ключ в поле выше</li>
        </ol>
    </div>

    <div class="footer">
        Ozon Analytics Assistant v1.1.0<br>
        Разработчик: <a href="https://t.me/first_seller" target="_blank">@first_seller</a>
    </div>

    <script src="popup.js"></script>
</body>
</html>
